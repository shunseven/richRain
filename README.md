# 🎉 RichRain - 新春派对大富翁

RichRain 是一款基于 [LeaferJS 2.0](https://www.leaferjs.com/) 开发的马里奥派对风格大富翁游戏。适合新春佳节与朋友互动的休闲网页游戏。

## 🎮 游戏特色

*   **经典玩法**：投掷骰子，在棋盘上移动，收集星星和金币。
*   **3D 骰子**：逼真的 3D 骰子投掷动画。
*   **丰富的事件系统**：
    *   **系统事件**：包括星星换位置、瞬移、交换位置、随机传送等多种趣味事件。
    *   **金币事件**：随机获得或失去金币，增加游戏变数。
    *   **NPC 遭遇**：触发特殊剧情或奖励。
*   **多样的互动**：包含迷你游戏、抢夺金币等互动环节。
*   **沉浸式音效**：背景音乐与丰富的操作音效，提升游戏体验。

## �‍👩‍👧‍👦 亲子互动玩法指南

RichRain 不仅仅是一款简单的电子游戏，更是一套连接虚拟与现实的**亲子互动工具**。我们鼓励家长和孩子共同参与，打破屏幕的界限。

### 1. 角色分配建议
*   **👶 孩子（玩家）**：作为游戏的主角，负责点击屏幕、投掷骰子、制定策略、体验游戏的惊喜与挑战。
*   **🧑‍🤝‍🧑 家长（NPC/GM）**：作为游戏的“主持人”或“实体 NPC”。当游戏内触发特定事件时，家长在现实中介入，发布任务或给予奖励。

### 2. 虚实结合的互动体验
让线上的运气与线下的行动相结合，增加游戏的趣味性和教育意义：

*   **线上事件 -> 线下任务**：
    *   **惩罚抵消**：当孩子在游戏中“失去金币”或遇到“倒退”惩罚时，家长可以发布一个现实任务（如“给爸爸捶背 10 下”、“整理自己的玩具”），完成后可免除部分游戏内的惩罚（或者给予口头鼓励）。
    *   **奖励翻倍**：当孩子在游戏中获得“大奖”或“星星”时，家长可以奖励一颗现实中的糖果或一个拥抱。

*   **线上小游戏 -> 线下对战**：
    *   虽然游戏内有自动化的迷你游戏，但家长可以在触发“对决”事件时，暂停游戏，与孩子进行一场现实中的小比拼（如“石头剪刀布”、“成语接龙”、“谁先眨眼”）。

### 3. 特色机制：NPC 遭遇 (PC Encounter)
游戏中设有专门的 **NPC 格子**。当玩家停留在该格子上时，将触发“NPC 遭遇”事件，这是亲子互动的核心时刻：

*   **触发剧情**：屏幕上显示遇到 NPC，家长此时扮演该 NPC “显灵”。
*   **现实任务**：家长发布一个即兴任务（例如：“唱一首学校里学的歌”、“背诵一首古诗”）。
*   **获取奖励**：孩子完成任务后，家长确认任务完成，游戏继续进行，孩子获得游戏内的特殊奖励（如金币、道具或直接获得星星）。
*   **教育契机**：利用 NPC 对话的机会，植入生活常识或情感交流，让游戏过程变成寓教于乐的时光。

## 🎨 高度自定义与编辑器

RichRain 内置了强大的编辑器系统，允许你根据家庭习惯和聚会主题，完全自定义游戏内容。所有修改都会自动保存在本地浏览器中。

### 1. 角色与 NPC 定制
*   **角色编辑**：上传孩子的照片或喜欢的卡通形象作为头像，设置专属颜色和昵称。
*   **NPC 编辑**：将家里的长辈（爷爷、奶奶、叔叔、阿姨）录入为 NPC，让他们以数字化形象参与游戏，增加亲切感。

### 2. 事件系统深度编辑
这是游戏最灵活的部分，你可以将家里的“家规”或“奖励机制”植入游戏：
*   **随机事件编辑器**（踩中❓格子）：
    *   **自定义奖励**：添加“获得 10 元红包”、“吃一包辣条”、“看一小时电视”等。
    *   **自定义惩罚**：添加“洗碗一次”、“拖地”、“唱首歌”、“背诵乘法口诀”等。
*   **NPC 事件编辑器**（踩中�格子）：
    *   设计与特定长辈的互动，如“给爷爷捶背”、“向奶奶讨红包”、“送一本寒假练习题”（😱）。

### 3. 互动内容编辑
*   **小游戏编辑器**：自定义小游戏的名称和胜负规则。例如将默认的“比大小”改为“石头剪刀布”或“成语接龙”，并设置对应的获胜条件描述。
*   **最终大奖设定**：设置游戏结束时冠军获得的终极奖励（如“全家游乐园门票”、“豪华乐高玩具”），让游戏目标更具吸引力。

## �🛠️ 技术栈

*   **核心引擎**：[LeaferJS 2.0](https://www.leaferjs.com/) - 下一代 HTML5 Canvas 2D 图形渲染引擎。
*   **构建工具**：[Vite](https://vitejs.dev/) - 极速的前端构建工具。
*   **语言**：JavaScript (ES Modules)。

## 🚀 快速开始

### 1. 安装依赖

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

访问终端中显示的地址（通常是 `http://localhost:5173`）即可开始游戏。

### 3. 构建生产版本

```bash
npm run build
```

构建产物将输出到 `dist` 目录。

### 4. 预览构建结果

```bash
npm run preview
```

## 📂 项目结构

```
RichRain/
├── public/             # 静态资源（图标、背景图等）
├── src/
│   ├── game.js         # 游戏核心逻辑（棋盘、事件、骰子等）
│   ├── sound.js        # 音频管理
│   ├── store.js        # 状态管理
│   ├── imageDB.js      # 图片资源管理
│   ├── main.js         # 入口文件
│   └── style.css       # 全局样式
├── index.html          # HTML 入口
└── vite.config.js      # Vite 配置
```

## 📜 许可证

ISC
